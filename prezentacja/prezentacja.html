<!DOCTYPE html>
<html lang="en"><head>
<script src="prezentacja_files/libs/clipboard/clipboard.min.js"></script>
<script src="prezentacja_files/libs/quarto-html/tabby.min.js"></script>
<script src="prezentacja_files/libs/quarto-html/popper.min.js"></script>
<script src="prezentacja_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="prezentacja_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="prezentacja_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="prezentacja_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.2.269">

  <meta name="author" content="Maciej Beręsewicz (Urząd Statystyczny w Poznaniu)">
  <title>Probabilisyczne łączenie rekordów</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="prezentacja_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="prezentacja_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="prezentacja_files/libs/revealjs/dist/theme/quarto.css" id="theme">
  <link href="prezentacja_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="prezentacja_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="prezentacja_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="prezentacja_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <link href="prezentacja_files/libs/countdown-0.4.0/countdown.css" rel="stylesheet">
  <script src="prezentacja_files/libs/countdown-0.4.0/countdown.js"></script>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Probabilisyczne łączenie rekordów</h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Maciej Beręsewicz (Urząd Statystyczny w Poznaniu) 
</div>
</div>
</div>

</section>
<section>
<section id="początek" class="title-slide slide level1 center" data-number="1">
<h1><span class="header-section-number">1</span> Początek</h1>

</section>
<section id="oczekiwania-dot.-szkolenia" class="slide level2">
<h2>Oczekiwania dot. szkolenia</h2>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_70b08135" data-update-every="1" tabindex="0" style="right:0;bottom:0;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">07</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
<p>Proszę wejść na stronę www.menti.com i podać kod</p>
<p><strong>7379 4838</strong></p>
</section>
<section id="oczekiwania-dot.-szkolenia-1" class="slide level2">
<h2>Oczekiwania dot. szkolenia</h2>
<p>Wyniki</p>
</section>
<section id="doświadczenie-w-zakresie-integracji-danych" class="slide level2">
<h2>Doświadczenie w zakresie integracji danych</h2>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_43ce4e63" data-update-every="1" tabindex="0" style="right:0;bottom:0;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">07</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
<p>Proszę wejść na stronę www.menti.com i podać kod</p>
<p><strong>3507 6668</strong></p>
</section>
<section id="doświadczenie-w-zakresie-integracji-danych-1" class="slide level2">
<h2>Doświadczenie w zakresie integracji danych</h2>
<p>Wyniki</p>
</section>
<section id="wprowadzenie" class="slide level2">
<h2>Wprowadzenie</h2>
<ol type="1">
<li>Wprowadzenie do łączenia danych</li>
<li>Procedura probabilistycznego łączenia rekordów</li>
<li>Porównywanie tekstów</li>
<li>Blokowanie rekordów do porównań</li>
<li>Łączenie rekordów: nienadzorowane</li>
<li>Łączenie rekordów: nadzorowane</li>
</ol>
</section>
<section id="motywacja" class="slide level2">
<h2>Motywacja</h2>
<table>
<thead>
<tr class="header">
<th>Rejestr</th>
<th style="text-align: right;">Liczba cudzoziemców</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>PESEL</td>
<td style="text-align: right;">2 004 765</td>
</tr>
<tr class="even">
<td>ZUS</td>
<td style="text-align: right;">957 539</td>
</tr>
<tr class="odd">
<td>MF</td>
<td style="text-align: right;">1 513 129</td>
</tr>
<tr class="even">
<td>KRUS</td>
<td style="text-align: right;">67 932</td>
</tr>
<tr class="odd">
<td>NFZ</td>
<td style="text-align: right;">2 034 434</td>
</tr>
<tr class="even">
<td>UdSC</td>
<td style="text-align: right;">545 873</td>
</tr>
</tbody>
</table>
</section>
<section id="motywacja-1" class="slide level2">
<h2>Motywacja</h2>
<table>
<thead>
<tr class="header">
<th>Rejestr</th>
<th style="text-align: right;">Etap1</th>
<th style="text-align: right;">Etap2</th>
<th style="text-align: right;">Bez identyfikatorów</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>KRUS</td>
<td style="text-align: right;">4 674</td>
<td style="text-align: right;">18 317</td>
<td style="text-align: right;">42 693</td>
</tr>
<tr class="even">
<td>MF</td>
<td style="text-align: right;">1 043 769</td>
<td style="text-align: right;">1 132 840</td>
<td style="text-align: right;">352 088</td>
</tr>
<tr class="odd">
<td>NFZ</td>
<td style="text-align: right;">1 987 884</td>
<td style="text-align: right;">1 987 891</td>
<td style="text-align: right;">42 524</td>
</tr>
<tr class="even">
<td>ZUS</td>
<td style="text-align: right;">624 113</td>
<td style="text-align: right;">760 765</td>
<td style="text-align: right;">117 926</td>
</tr>
<tr class="odd">
<td>Wszystkie</td>
<td style="text-align: right;">1 988 650</td>
<td style="text-align: right;">1 989 390</td>
<td style="text-align: right;">--</td>
</tr>
</tbody>
</table>
</section>
<section id="motywacja-2" class="slide level2">
<h2>Motywacja</h2>
<table>
<thead>
<tr class="header">
<th>Imie</th>
<th>Imie2</th>
<th>Nazwisko</th>
<th>Rok urodzenia</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Miguel</td>
<td>Luis</td>
<td>Pereira Tinoco</td>
<td>1969</td>
</tr>
<tr class="even">
<td>Miguel Luis</td>
<td></td>
<td>Pereira-Tinoco</td>
<td>1969</td>
</tr>
<tr class="odd">
<td>Miguel</td>
<td></td>
<td>Pereira-Tinoco</td>
<td>1968</td>
</tr>
<tr class="even">
<td>Thi</td>
<td>Hy</td>
<td>Dao</td>
<td>1993</td>
</tr>
<tr class="odd">
<td>Dao Thi Hy</td>
<td></td>
<td></td>
<td>1993</td>
</tr>
<tr class="even">
<td>Thi</td>
<td></td>
<td>Dao</td>
<td>1992</td>
</tr>
</tbody>
</table>
</section></section>
<section>
<section id="wprowdzenie-do-łączenia-danych" class="title-slide slide level1 center" data-number="2">
<h1><span class="header-section-number">2</span> Wprowdzenie do łączenia danych</h1>

</section>
<section id="łączenie-deterministyczne" class="slide level2">
<h2>Łączenie deterministyczne</h2>

<img data-src="https://1.bp.blogspot.com/-IlS27_IERRk/VXXmC_DZHKI/AAAAAAAAIyM/WqqfjygxDYg/s1600/relacje.png" class="r-stretch quarto-figure-center"><p class="caption">Przykładowe łączenie danych po kluczach (źródło: <a href="https://phpmajster.blogspot.com/2015/06/sql-aliasy-i-zaczenia-wielu-tabel-za.html" class="uri">https://phpmajster.blogspot.com/2015/06/sql-aliasy-i-zaczenia-wielu-tabel-za.html</a>)</p></section>
<section id="łączenie-probabilistyczne" class="slide level2">
<h2>Łączenie probabilistyczne</h2>

<img data-src="images/roszka.png" class="r-stretch quarto-figure-center"><p class="caption">Przykładowe łączenie danych bez kluczy (źródło: Roszka (2012))</p></section>
<section id="łączenie-probabilistyczne-procedura" class="slide level2">
<h2>Łączenie probabilistyczne (procedura)</h2>

<img data-src="images/procedura.png" class="r-stretch quarto-figure-center"><p class="caption">Algorytm integracji danych. Źródło: Data Integration Manual (2006)</p></section>
<section id="łączenie-probabilistyczne-literatura" class="slide level2">
<h2>Łączenie probabilistyczne (literatura)</h2>

<img data-src="images/literatura1.png" class="r-stretch quarto-figure-center"><p class="caption">Binette, O., &amp; Steorts, R. C. (2022). (Almost) all of entity resolution. Science Advances, 8(12)</p></section>
<section id="łączenie-probabilistyczne-literatura-1" class="slide level2">
<h2>Łączenie probabilistyczne (literatura)</h2>

<img data-src="images/roszka-dr.png" class="r-stretch quarto-figure-center"><p class="caption">Źródło: https://www.wbc.poznan.pl/publication/326096</p></section></section>
<section>
<section id="porównywanie-napisów" class="title-slide slide level1 center" data-number="3">
<h1><span class="header-section-number">3</span> Porównywanie napisów</h1>

</section>
<section id="problem" class="slide level2">
<h2>Problem</h2>
<p>Jak wyznaczyć odległość między następującymi rekordami?</p>
<table>
<caption>Przykładowe dane</caption>
<thead>
<tr class="header">
<th>Imie</th>
<th>Imie2</th>
<th>Nazwisko</th>
<th>Data urodzenia</th>
<th>Gmina</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Maciej</td>
<td>E</td>
<td>Beręsewicz</td>
<td>1987</td>
<td>Poznań</td>
</tr>
<tr class="even">
<td>Maciej Eryk</td>
<td></td>
<td>Berecewicz</td>
<td>1987</td>
<td>Poznań</td>
</tr>
<tr class="odd">
<td>Maciej</td>
<td>Eryk</td>
<td>Berensewicz</td>
<td>1987</td>
<td>Białystok</td>
</tr>
</tbody>
</table>
</section>
<section id="miary-odległości-między-napisami" class="slide level2">
<h2>Miary odległości między napisami</h2>

<img data-src="https://www.baeldung.com/wp-content/uploads/sites/4/2020/11/sim-families1.png" class="r-stretch quarto-figure-center"><p class="caption">Lista miar odległości między napisami (źródło: https://www.baeldung.com/cs/string-similarity-edit-distance)</p></section>
<section id="pakiety-w-r-do-wyznaczania-odległości" class="slide level2">
<h2>Pakiety w R do wyznaczania odległości</h2>
<ul>
<li>pakiet <code>stringdist</code> (artykuł: Van der Loo, M. P. (2014). The stringdist package for approximate string matching. <em>R Journal</em>, <em>6</em>(1), 111.)</li>
<li>pakiet <code>stringi</code> (artykuł: Gagolewski, M. (2022). stringi: Fast and portable character string processing in R. <em>Journal of Statistical Software</em>, <em>103</em>, 1-59.)</li>
<li>pakiet <code>reclin2</code> (artykuł: van der Laan, D. J. (2022). reclin2: a Toolkit for Record Linkage and Deduplication. <em>R Journal</em>, <em>14</em>(2).)</li>
</ul>
</section>
<section id="miary-odległości" class="slide level2">
<h2>Miary odległości</h2>
<ul>
<li>Zastąpienie znaku, jak w “foo” -&gt; “boo”.</li>
<li>Usunięcie znaku, jak w ‘foo’ -&gt; ‘oo’.</li>
<li>Wstawienie znaku, jak w ‘foo’ -&gt; ‘floo’.</li>
<li>Transpozycja dwóch sąsiadujących znaków, jak w ‘foo’ -&gt; ‘ofo’.</li>
</ul>
</section>
<section id="odległość-hamminga" class="slide level2">
<h2>Odległość Hamminga</h2>
<ul>
<li><p><strong>Odległośc Hamminga</strong> to miara odmienności dwóch ciągów o takiej samej długości, wyrażająca liczbę miejsc (pozycji), na których te dwa ciągi się różnią. Innymi słowy jest to najmniejsza liczba zmian (operacji zastępowania elementu innym), jakie pozwalają przeprowadzić jeden ciąg na drugi.</p></li>
<li><p><u>Uwaga</u>: tylko ciągi o tej samej długości</p>
<table>
<tbody>
<tr class="odd">
<td>B</td>
<td>E</td>
<td>R</td>
<td><strong>Ę</strong></td>
<td><strong>S</strong></td>
<td>E</td>
<td>W</td>
<td>I</td>
<td>C</td>
<td>Z</td>
</tr>
<tr class="even">
<td>B</td>
<td>E</td>
<td>R</td>
<td><strong>E</strong></td>
<td><strong>C</strong></td>
<td>E</td>
<td>W</td>
<td>I</td>
<td>C</td>
<td>Z</td>
</tr>
</tbody>
</table></li>
</ul>
</section>
<section id="odległość-hamminga-ćwiczenia" class="slide level2">
<h2>Odległość Hamminga (ćwiczenia)</h2>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_dcabd323" data-update-every="1" tabindex="0" style="right:0;bottom:0;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
<ul>
<li>Ćwiczenie: ile wynosi odległość Hamminga dla następujących napisów:
<ul>
<li>warmińsko-mazurskie / warminsko mazurskie</li>
<li>miasto Poznań / miasto Poznan</li>
</ul></li>
</ul>
</section>
<section id="odległość-hamminga-przykład-w-r" class="slide level2">
<h2>Odległość Hamminga (przykład w R)</h2>
<ul>
<li>Przykład dla równych napisów</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">stringdist</span>(<span class="at">a =</span> <span class="st">"beręsewicz"</span>,</span>
<span id="cb1-2"><a href="#cb1-2"></a>           <span class="at">b =</span> <span class="st">"berecewicz"</span>,</span>
<span id="cb1-3"><a href="#cb1-3"></a>           <span class="at">method =</span> <span class="st">"hamming"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
</div>
<ul>
<li>Przykład dla równych napisów</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">stringdist</span>(<span class="at">a =</span> <span class="st">"warmińsko-mazurskie"</span>,</span>
<span id="cb3-2"><a href="#cb3-2"></a>           <span class="at">b =</span> <span class="st">"warminsko mazurskie"</span>,</span>
<span id="cb3-3"><a href="#cb3-3"></a>           <span class="at">method =</span> <span class="st">"hamming"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
</div>
</section>
<section id="odległość-hamminga-przykład-w-r-1" class="slide level2">
<h2>Odległość Hamminga (przykład w R)</h2>
<ul>
<li>Przykład dla napisów o nierównej długości</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="fu">stringdist</span>(<span class="at">a =</span> <span class="st">"warmińsko-mazurskie"</span>,</span>
<span id="cb5-2"><a href="#cb5-2"></a>           <span class="at">b =</span> <span class="st">"warminskomazurskie"</span>,</span>
<span id="cb5-3"><a href="#cb5-3"></a>           <span class="at">method =</span> <span class="st">"hamming"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] Inf</code></pre>
</div>
</div>
</section>
<section id="odległość-hamminga-przykład-w-r-2" class="slide level2">
<h2>Odległość Hamminga (przykład w R)</h2>
<ul>
<li>Przykład dla równych napisów</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="fu">stringsim</span>(<span class="at">a =</span> <span class="st">"beręsewicz"</span>,</span>
<span id="cb7-2"><a href="#cb7-2"></a>          <span class="at">b =</span> <span class="st">"berecewicz"</span>,</span>
<span id="cb7-3"><a href="#cb7-3"></a>          <span class="at">method =</span> <span class="st">"hamming"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.8</code></pre>
</div>
</div>
<p>Wyznaczone jako</p>
<p><span class="math display">\[
1 - \frac{\text{dist}}{\text{max (długość tekstów)}}
\]</span></p>
</section>
<section id="odległość-hamminga-przykład-w-r-3" class="slide level2">
<h2>Odległość Hamminga (przykład w R)</h2>
<ul>
<li>Odległość między wektorem, a referencją</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="fu">stringsim</span>(<span class="at">a =</span> <span class="fu">c</span>(<span class="st">"Beręsewicz"</span>, <span class="st">"Berencewicz"</span>, <span class="st">"Beręcewicz"</span>),</span>
<span id="cb9-2"><a href="#cb9-2"></a>          <span class="at">b =</span> <span class="st">"beręsewicz"</span>,</span>
<span id="cb9-3"><a href="#cb9-3"></a>          <span class="at">method =</span> <span class="st">"hamming"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.9 0.0 0.8</code></pre>
</div>
</div>
<ul>
<li>Odległość między wektorem, a wektorem (macierz)</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="fu">stringsimmatrix</span>(<span class="at">a =</span> <span class="fu">c</span>(<span class="st">"Beręsewicz"</span>, <span class="st">"Berencewicz"</span>, <span class="st">"Beręcewicz"</span>),</span>
<span id="cb11-2"><a href="#cb11-2"></a>                <span class="at">b =</span> <span class="fu">c</span>(<span class="st">"Beręsewicz"</span>, <span class="st">"Berencewicz"</span>, <span class="st">"Beręcewicz"</span>),</span>
<span id="cb11-3"><a href="#cb11-3"></a>                <span class="at">method =</span> <span class="st">"hamming"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]  1.0    0  0.9
[2,]  0.0    1  0.0
[3,]  0.9    0  1.0</code></pre>
</div>
</div>
</section>
<section id="najdłuższy-wspólny-podciąg" class="slide level2">
<h2>Najdłuższy wspólny podciąg</h2>
<ul>
<li><p>ang. <em>Longest Common Substring</em> (LCS)</p></li>
<li><p>Odległość LCS jest wtedy liczbą niesparowanych znaków w obu łańcuchach</p>
<table>
<tbody>
<tr class="odd">
<td>B</td>
<td>E</td>
<td>R</td>
<td><strong>Ę</strong></td>
<td><strong>S</strong></td>
<td>E</td>
<td>W</td>
<td>I</td>
<td>C</td>
<td>Z</td>
</tr>
<tr class="even">
<td>B</td>
<td>E</td>
<td>R</td>
<td><strong>E</strong></td>
<td><strong>C</strong></td>
<td>E</td>
<td>W</td>
<td>I</td>
<td>C</td>
<td>Z</td>
</tr>
</tbody>
</table></li>
<li><p>Odległość wynosi 4</p></li>
</ul>
</section>
<section id="odległość-lcs-ćwiczenia" class="slide level2">
<h2>Odległość LCS (ćwiczenia)</h2>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_b752582d" data-update-every="1" tabindex="0" style="right:0;bottom:0;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
<ul>
<li>Ćwiczenie: ile wynosi odległość LCS dla następujących napisów:
<ul>
<li>warmińsko-mazurskie / warminskomazurskie</li>
<li>miasto Poznań / m.Poznan</li>
</ul></li>
</ul>
</section>
<section id="lcs-przykład-w-r" class="slide level2">
<h2>LCS (przykład w R)</h2>
<ul>
<li>Metoda <code>lcs</code></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="fu">stringdist</span>(<span class="at">a =</span> <span class="st">"beręsewicz"</span>,</span>
<span id="cb13-2"><a href="#cb13-2"></a>           <span class="at">b =</span> <span class="st">"berecewicz"</span>,</span>
<span id="cb13-3"><a href="#cb13-3"></a>           <span class="at">method =</span> <span class="st">"lcs"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
</div>
</section>
<section id="lcs-rozwiązania-ćwiczeń" class="slide level2">
<h2>LCS (rozwiązania ćwiczeń)</h2>
<ul>
<li>ćwiczenie 1</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="fu">stringdist</span>(<span class="at">a =</span> <span class="st">"warmińsko-mazurskie"</span>,</span>
<span id="cb15-2"><a href="#cb15-2"></a>           <span class="at">b =</span> <span class="st">"warminskomazurskie"</span>,</span>
<span id="cb15-3"><a href="#cb15-3"></a>           <span class="at">method =</span> <span class="st">"lcs"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
<ul>
<li>ćwiczenie 2</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="fu">stringdist</span>(<span class="at">a =</span> <span class="st">"miasto Poznań"</span>,</span>
<span id="cb17-2"><a href="#cb17-2"></a>           <span class="at">b =</span> <span class="st">"m.Poznan"</span>,</span>
<span id="cb17-3"><a href="#cb17-3"></a>           <span class="at">method =</span> <span class="st">"lcs"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 9</code></pre>
</div>
</div>
</section>
<section id="odległość-levenshteina" class="slide level2">
<h2>Odległość Levenshteina</h2>
<ul>
<li>Odległość Levenshteina (edycyjna) - miara odmienności napisów (skończonych ciągów znaków), zaproponowana w 1965 roku przez Władimira Lewensztejna.</li>
<li>Formalnie jest to metryka w przestrzeni ciągów znaków, zdefiniowana następująco:
<ul>
<li>działaniem prostym na napisie nazwiemy:
<ul>
<li>wstawienie nowego znaku do napisu,</li>
<li>usunięcie znaku z napisu,</li>
<li>zamianę znaku w napisie na inny znak.</li>
</ul></li>
<li>odległością pomiędzy dwoma napisami jest najmniejsza liczba działań prostych, przeprowadzających jeden napis na drugi.</li>
</ul></li>
</ul>
</section>
<section id="odległość-levenshteina-przykład" class="slide level2">
<h2>Odległość Levenshteina (przykład)</h2>
<ul>
<li><p>Przykład 1</p>
<table>
<tbody>
<tr class="odd">
<td>B</td>
<td>E</td>
<td>R</td>
<td><strong>Ę</strong></td>
<td><strong>S</strong></td>
<td>E</td>
<td>W</td>
<td>I</td>
<td>C</td>
<td>Z</td>
</tr>
<tr class="even">
<td>B</td>
<td>E</td>
<td>R</td>
<td><strong>E</strong></td>
<td><strong>C</strong></td>
<td>E</td>
<td>W</td>
<td>I</td>
<td>C</td>
<td>Z</td>
</tr>
</tbody>
</table></li>
<li><p>Zamiany:</p>
<ul>
<li>e -&gt; ę</li>
<li>s -&gt; c</li>
</ul></li>
<li><p>Odległosć: 2</p></li>
</ul>
</section>
<section id="odległość-levenshteina-przykład-1" class="slide level2">
<h2>Odległość Levenshteina (przykład)</h2>
<ul>
<li><p>Przykład 2</p>
<table style="width:100%;">
<colgroup>
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
</colgroup>
<tbody>
<tr class="odd">
<td>B</td>
<td>E</td>
<td>R</td>
<td><strong>Ę</strong></td>
<td><strong>S</strong></td>
<td>E</td>
<td>W</td>
<td>I</td>
<td>C</td>
<td>Z</td>
<td></td>
</tr>
<tr class="even">
<td>B</td>
<td>E</td>
<td>R</td>
<td><strong>E</strong></td>
<td><strong>N</strong></td>
<td><strong>S</strong></td>
<td>E</td>
<td>W</td>
<td>I</td>
<td>C</td>
<td>Z</td>
</tr>
</tbody>
</table></li>
<li><p>Zamiany:</p>
<ul>
<li>e -&gt; ę</li>
<li>usunięcie n</li>
</ul></li>
<li><p>odległość: 2</p></li>
</ul>
</section>
<section id="odległosć-levenshteina-ćwiczenia" class="slide level2">
<h2>Odległosć Levenshteina (ćwiczenia)</h2>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_6be1a700" data-update-every="1" tabindex="0" style="right:0;bottom:0;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
<ul>
<li>Ćwiczenie: ile wynosi odległość Levenshteina dla następujących napisów:
<ul>
<li>warmińsko-mazurskie / warminskomazurskie</li>
<li>miasto Poznań / m.Poznan</li>
</ul></li>
</ul>
</section>
<section id="przykład-w-r" class="slide level2">
<h2>Przykład w R</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="fu">stringdist</span>(<span class="at">a =</span> <span class="st">"beręsewicz"</span>,</span>
<span id="cb19-2"><a href="#cb19-2"></a>           <span class="at">b =</span> <span class="st">"berensewicz"</span>,</span>
<span id="cb19-3"><a href="#cb19-3"></a>           <span class="at">method =</span> <span class="st">"lv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
</div>
</section>
<section id="levenshteina-rozwiązania-ćwiczeń" class="slide level2">
<h2>Levenshteina (rozwiązania ćwiczeń)</h2>
<ul>
<li>ćwiczenie 1</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="fu">stringdist</span>(<span class="at">a =</span> <span class="st">"warmińsko-mazurskie"</span>,</span>
<span id="cb21-2"><a href="#cb21-2"></a>           <span class="at">b =</span> <span class="st">"warminskomazurskie"</span>,</span>
<span id="cb21-3"><a href="#cb21-3"></a>           <span class="at">method =</span> <span class="st">"lv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
</div>
<ul>
<li>ćwiczenie 2</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a><span class="fu">stringdist</span>(<span class="at">a =</span> <span class="st">"miasto Poznań"</span>,</span>
<span id="cb23-2"><a href="#cb23-2"></a>           <span class="at">b =</span> <span class="st">"m.Poznan"</span>,</span>
<span id="cb23-3"><a href="#cb23-3"></a>           <span class="at">method =</span> <span class="st">"lv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7</code></pre>
</div>
</div>
</section>
<section id="optymalne-wyrównanie-ciągów" class="slide level2">
<h2>Optymalne wyrównanie ciągów</h2>
<ul>
<li>ang. <em>optimal string alignment</em> (OSA; inaczej też ang. <em>restricted Damerau-Levenshtein</em> distance ale nie <em>Damerau-Levenshtein distance</em>)</li>
<li>rozszerza odległość Levenshteina o możliwość zamiany miejscami sąsiadujących znaków</li>
</ul>
</section>
<section id="osa-przykład" class="slide level2">
<h2>OSA (przykład)</h2>
<ul>
<li><p>Przykład 1</p>
<table>
<tbody>
<tr class="odd">
<td>B</td>
<td>E</td>
<td>R</td>
<td><strong>Ę</strong></td>
<td><strong>S</strong></td>
<td><strong>E</strong></td>
<td>W</td>
<td>I</td>
<td>C</td>
<td>Z</td>
</tr>
<tr class="even">
<td>B</td>
<td>E</td>
<td>R</td>
<td><strong>E</strong></td>
<td><strong>E</strong></td>
<td><strong>S</strong></td>
<td>W</td>
<td>I</td>
<td>C</td>
<td>Z</td>
</tr>
</tbody>
</table></li>
</ul>
</section>
<section id="osa-ćwiczenia" class="slide level2">
<h2>OSA (ćwiczenia)</h2>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_6b2742e2" data-update-every="1" tabindex="0" style="right:0;bottom:0;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
<ul>
<li>Ćwiczenie: ile wynosi odległość OSA dla następujących napisów:
<ul>
<li>warmińsko-mazurskie / warminsok-mazurskie</li>
<li>miasto Poznań / m.Opznań</li>
</ul></li>
</ul>
</section>
<section id="osa-przykład-w-r" class="slide level2">
<h2>OSA (przykład w R)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a><span class="fu">stringdist</span>(<span class="at">a =</span> <span class="st">"beręsewicz"</span>,</span>
<span id="cb25-2"><a href="#cb25-2"></a>           <span class="at">b =</span> <span class="st">"beręeswicz"</span>,</span>
<span id="cb25-3"><a href="#cb25-3"></a>           <span class="at">method =</span> <span class="st">"osa"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
</section>
<section id="osa-rozwiązania-ćwiczeń" class="slide level2">
<h2>OSA (rozwiązania ćwiczeń)</h2>
<ul>
<li>ćwiczenie 1</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a><span class="fu">stringdist</span>(<span class="at">a =</span> <span class="st">"warmińsko-mazurskie"</span>,</span>
<span id="cb27-2"><a href="#cb27-2"></a>           <span class="at">b =</span> <span class="st">"warminsok-mazurskie"</span>,</span>
<span id="cb27-3"><a href="#cb27-3"></a>           <span class="at">method =</span> <span class="st">"osa"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
</div>
<ul>
<li>ćwiczenie 2</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a><span class="fu">stringdist</span>(<span class="at">a =</span> <span class="st">"miasto Poznań"</span>,</span>
<span id="cb29-2"><a href="#cb29-2"></a>           <span class="at">b =</span> <span class="st">"m.Opznań"</span>,</span>
<span id="cb29-3"><a href="#cb29-3"></a>           <span class="at">method =</span> <span class="st">"osa"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 8</code></pre>
</div>
</div>
</section>
<section id="odległość-jaccarda" class="slide level2">
<h2>Odległość Jaccarda</h2>
<ul>
<li>Indeks Jaccarda, współczynnik podobieństwa Jaccarda – statystyka używana do porównywania zbiorów.</li>
<li>Wzór na indeks Jaccarda</li>
</ul>
<p><span class="math display">\[
J(A, B)=\frac{|A \cap B|}{|A \cup B|}
\]</span></p>
<ul>
<li>W przypadku porównywania tekstów mówimy relacji części wspólnej do długości</li>
</ul>
</section>
<section id="odległość-jaccarda-przykład" class="slide level2">
<h2>Odległość Jaccarda (przykład)</h2>
<ul>
<li><p>Przykład 1</p>
<table>
<tbody>
<tr class="odd">
<td>B</td>
<td>E</td>
<td>R</td>
<td><strong>Ę</strong></td>
<td><strong>S</strong></td>
<td>E</td>
<td>W</td>
<td>I</td>
<td>C</td>
<td>Z</td>
</tr>
<tr class="even">
<td>B</td>
<td>E</td>
<td>R</td>
<td><strong>E</strong></td>
<td><strong>C</strong></td>
<td>E</td>
<td>W</td>
<td>I</td>
<td>C</td>
<td>Z</td>
</tr>
</tbody>
</table></li>
<li><p>część wspólna: 7</p></li>
<li><p>suma unikalnych znaków: 9</p></li>
<li><p>odległosć: 1 - 7/9 = 2/9 (<span class="math inline">\(\aprox\)</span> 0.22)</p></li>
</ul>
</section>
<section id="odległość-jaccarda-przykład-1" class="slide level2">
<h2>Odległość Jaccarda (przykład)</h2>
<ul>
<li><p>Przykład 2</p>
<table style="width:100%;">
<colgroup>
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
</colgroup>
<tbody>
<tr class="odd">
<td>B</td>
<td>E</td>
<td>R</td>
<td><strong>Ę</strong></td>
<td><strong>S</strong></td>
<td>E</td>
<td>W</td>
<td>I</td>
<td>C</td>
<td>Z</td>
<td></td>
</tr>
<tr class="even">
<td>B</td>
<td>E</td>
<td>R</td>
<td><strong>E</strong></td>
<td><strong>N</strong></td>
<td><strong>S</strong></td>
<td>E</td>
<td>W</td>
<td>I</td>
<td>C</td>
<td>Z</td>
</tr>
</tbody>
</table></li>
<li><p>część wspólna: 7</p></li>
<li><p>suma unikalnych znaków: 10</p></li>
<li><p>odległosć: 1 - 7/10 = 1/3</p></li>
</ul>
</section>
<section id="odległość-jaccarda-ćwiczenia" class="slide level2">
<h2>Odległość Jaccarda (ćwiczenia)</h2>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_01a27353" data-update-every="1" tabindex="0" style="right:0;bottom:0;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">10</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
<ul>
<li>Ćwiczenie: ile wynosi odległość Jaccarda dla następujących napisów:
<ul>
<li>warmińsko-mazurskie / warminsok-mazurskie</li>
<li>miasto poznań / m.ppznań</li>
</ul></li>
</ul>
</section>
<section id="odległość-jaccarda-przykład-w-r" class="slide level2">
<h2>Odległość Jaccarda (przykład w R)</h2>
<ul>
<li>Przykład 1</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a><span class="fu">qgrams</span>(<span class="at">a =</span> <span class="st">"beręsewicz"</span>,</span>
<span id="cb31-2"><a href="#cb31-2"></a>       <span class="at">b =</span> <span class="st">"berecewicz"</span>,</span>
<span id="cb31-3"><a href="#cb31-3"></a>       <span class="at">q =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  b e r ę s w z i c
a 1 2 1 1 1 1 1 1 1
b 1 3 1 0 0 1 1 1 2</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a><span class="fu">stringdist</span>(<span class="at">a =</span> <span class="st">"beręsewicz"</span>,</span>
<span id="cb33-2"><a href="#cb33-2"></a>           <span class="at">b =</span> <span class="st">"berecewicz"</span>,</span>
<span id="cb33-3"><a href="#cb33-3"></a>           <span class="at">method =</span> <span class="st">"jaccard"</span>, </span>
<span id="cb33-4"><a href="#cb33-4"></a>           <span class="at">q =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.2222222</code></pre>
</div>
</div>
</section>
<section id="odległość-jaccarda-przykład-w-r-1" class="slide level2">
<h2>Odległość Jaccarda (przykład w R)</h2>
<ul>
<li>Przykład 2</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a><span class="fu">qgrams</span>(<span class="at">a =</span> <span class="st">"beręsewicz"</span>,</span>
<span id="cb35-2"><a href="#cb35-2"></a>       <span class="at">b =</span> <span class="st">"berencewicz"</span>,</span>
<span id="cb35-3"><a href="#cb35-3"></a>       <span class="at">q =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  b e r ę s w z i n c
a 1 2 1 1 1 1 1 1 0 1
b 1 3 1 0 0 1 1 1 1 2</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a><span class="fu">stringdist</span>(<span class="at">a =</span> <span class="st">"beręsewicz"</span>,</span>
<span id="cb37-2"><a href="#cb37-2"></a>           <span class="at">b =</span> <span class="st">"berencewicz"</span>,</span>
<span id="cb37-3"><a href="#cb37-3"></a>           <span class="at">method =</span> <span class="st">"jaccard"</span>, </span>
<span id="cb37-4"><a href="#cb37-4"></a>           <span class="at">q =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3</code></pre>
</div>
</div>
</section>
<section id="odległość-jaccarda-rozwiązania-ćwiczeń" class="slide level2">
<h2>Odległość Jaccarda (rozwiązania ćwiczeń)</h2>
<ul>
<li>ćwiczenie 1</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a><span class="fu">qgrams</span>(<span class="at">a =</span> <span class="st">"warmińsko-mazurskie"</span>,</span>
<span id="cb39-2"><a href="#cb39-2"></a>       <span class="at">b =</span> <span class="st">"warminsok-mazurskie"</span>,</span>
<span id="cb39-3"><a href="#cb39-3"></a>       <span class="at">q =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  w ń z a r s u m o n i k e -
a 1 1 1 2 2 2 1 2 1 0 2 2 1 1
b 1 0 1 2 2 2 1 2 1 1 2 2 1 1</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a><span class="fu">stringdist</span>(<span class="at">a =</span> <span class="st">"warmińsko-mazurskie"</span>,</span>
<span id="cb41-2"><a href="#cb41-2"></a>           <span class="at">b =</span> <span class="st">"warminsok-mazurskie"</span>,</span>
<span id="cb41-3"><a href="#cb41-3"></a>           <span class="at">method =</span> <span class="st">"jaccard"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.1428571</code></pre>
</div>
</div>
</section>
<section id="odległość-jaccarda-rozwiązania-ćwiczeń-1" class="slide level2">
<h2>Odległość Jaccarda (rozwiązania ćwiczeń)</h2>
<ul>
<li>ćwiczenie 2</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a><span class="fu">qgrams</span>(<span class="at">a =</span> <span class="st">"miasto poznań"</span>,</span>
<span id="cb43-2"><a href="#cb43-2"></a>       <span class="at">b =</span> <span class="st">"m.opznań"</span>,</span>
<span id="cb43-3"><a href="#cb43-3"></a>       <span class="at">q =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  m s t z ń o p n i a   .
a 1 1 1 1 1 2 1 1 1 2 1 0
b 1 0 0 1 1 1 1 1 0 1 0 1</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a><span class="fu">stringdist</span>(<span class="at">a =</span> <span class="st">"miasto poznań"</span>,</span>
<span id="cb45-2"><a href="#cb45-2"></a>           <span class="at">b =</span> <span class="st">"m.opznań"</span>,</span>
<span id="cb45-3"><a href="#cb45-3"></a>           <span class="at">method =</span> <span class="st">"jaccard"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.4166667</code></pre>
</div>
</div>
</section>
<section id="q-gramy" class="slide level2">
<h2><span class="math inline">\(q\)</span>-gramy</h2>
<ul>
<li>często wykorzystuje się do porównań <span class="math inline">\(q\)</span>-gramy (np. 2-gramy, czasem też nazywane shingles jeżeli odnosimy się do liter),</li>
<li>mozna użyć albo odległości Jaccarda albo <span class="math inline">\(q\)</span>-gram,</li>
<li><span class="math inline">\(q\)</span>-gram zdefiniowana jest następująco uzyskuje się poprzez zestawienie q-gramów występujących w dwóch ciągach i zliczenie liczby q-gramów, które nie są współdzielone między nimi.</li>
</ul>
</section>
<section id="q-gramy-przykład" class="slide level2">
<h2><span class="math inline">\(q\)</span>-gramy (Przykład)</h2>
<ul>
<li>1-gramy: <code>{B,e,r,ę,s,e,w,i,cz}</code></li>
<li>2-gramy: <code>{Be, er, rę, ęs, se, ew, wi, ic, cz}</code></li>
<li>3-gramy: <code>{Ber, erę, ręs, ęse, sew, wic, ewi, icz}</code></li>
</ul>
</section>
<section id="q-gramy-przykład-w-r" class="slide level2">
<h2><span class="math inline">\(q\)</span>-gramy (Przykład w R)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a><span class="fu">qgrams</span>(<span class="st">"Beręsewicz"</span>, <span class="at">q=</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   B e r ę s w z i c
V1 1 2 1 1 1 1 1 1 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a><span class="fu">qgrams</span>(<span class="st">"Beręsewicz"</span>, <span class="at">q=</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Be er rę ęs se wi ew ic cz
V1  1  1  1  1  1  1  1  1  1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a><span class="fu">qgrams</span>(<span class="st">"eręsewicz"</span>, <span class="at">q=</span><span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   erę ręs ęse sew wic ewi icz
V1   1   1   1   1   1   1   1</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1"></a><span class="fu">qgrams</span>(<span class="at">a =</span> <span class="st">"beręsewicz"</span>,</span>
<span id="cb53-2"><a href="#cb53-2"></a>       <span class="at">b =</span> <span class="st">"berencewicz"</span>,</span>
<span id="cb53-3"><a href="#cb53-3"></a>       <span class="at">q =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  be er rę ęs se wi ew ic re nc cz en ce
a  1  1  1  1  1  1  1  1  0  0  1  0  0
b  1  1  0  0  0  1  1  1  1  1  1  1  1</code></pre>
</div>
</div>
</section>
<section id="q-gramy-przykład-w-r-1" class="slide level2">
<h2><span class="math inline">\(q\)</span>-gramy (Przykład w R)</h2>
<ul>
<li>odległość Jaccarda na 1-gramach</li>
</ul>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3</code></pre>
</div>
</div>
<ul>
<li>odległość <span class="math inline">\(q\)</span>-gram na 1-gramach</li>
</ul>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
</div>
</section>
<section id="odległość-q-gram-ćwiczenia" class="slide level2">
<h2>Odległość <span class="math inline">\(q\)</span>-gram (ćwiczenia)</h2>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_bd169a0f" data-update-every="1" tabindex="0" style="right:0;bottom:0;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">10</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
<ul>
<li>Ćwiczenie: ile wynosi odległość <span class="math inline">\(q\)</span>-gram dla następujących napisów:
<ul>
<li>warmińsko-mazurskie / warminsok-mazurskie</li>
<li>miasto poznań / m.ppznań</li>
</ul>
Wykorzystując <span class="math inline">\(q\)</span> równe 2 i 3.</li>
</ul>
</section>
<section id="odległość-q-gram-rozwiązania-ćwiczeń" class="slide level2">
<h2>Odległość <span class="math inline">\(q\)</span>-gram (rozwiązania ćwiczeń)</h2>
<ul>
<li>ćwiczenie 1</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1"></a><span class="fu">qgrams</span>(<span class="at">a =</span> <span class="st">"warmińsko-mazurskie"</span>,</span>
<span id="cb57-2"><a href="#cb57-2"></a>       <span class="at">b =</span> <span class="st">"warminsok-mazurskie"</span>,</span>
<span id="cb57-3"><a href="#cb57-3"></a>       <span class="at">q =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  wa ńs zu ar rm sk ur so rs mi o- ok ns iń ko ma ki k- az ie in -m
a  1  1  1  1  1  2  1  0  1  1  1  0  0  1  1  1  1  0  1  1  0  1
b  1  0  1  1  1  1  1  1  1  1  0  1  1  0  0  1  1  1  1  1  1  1</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1"></a><span class="fu">stringdist</span>(<span class="at">a =</span> <span class="st">"warmińsko-mazurskie"</span>,</span>
<span id="cb59-2"><a href="#cb59-2"></a>           <span class="at">b =</span> <span class="st">"warminsok-mazurskie"</span>,</span>
<span id="cb59-3"><a href="#cb59-3"></a>           <span class="at">method =</span> <span class="st">"qgram"</span>,</span>
<span id="cb59-4"><a href="#cb59-4"></a>           <span class="at">q=</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10</code></pre>
</div>
</div>
</section>
<section id="odległość-q-gram-rozwiązania-ćwiczeń-1" class="slide level2">
<h2>Odległość <span class="math inline">\(q\)</span>-gram (rozwiązania ćwiczeń)</h2>
<ul>
<li>ćwiczenie 2</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1"></a><span class="fu">qgrams</span>(<span class="at">a =</span> <span class="st">"miasto poznań"</span>,</span>
<span id="cb61-2"><a href="#cb61-2"></a>       <span class="at">b =</span> <span class="st">"m.ppznań"</span>,</span>
<span id="cb61-3"><a href="#cb61-3"></a>       <span class="at">q =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  mi st to zn o  po pp pz oz na ia m. as ań  p .p
a  1  1  1  1  1  1  0  0  1  1  1  0  1  1  1  0
b  0  0  0  1  0  0  1  1  0  1  0  1  0  1  0  1</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1"></a><span class="fu">stringdist</span>(<span class="at">a =</span> <span class="st">"miasto poznań"</span>,</span>
<span id="cb63-2"><a href="#cb63-2"></a>           <span class="at">b =</span> <span class="st">"m.ppznań"</span>,</span>
<span id="cb63-3"><a href="#cb63-3"></a>           <span class="at">method =</span> <span class="st">"qgram"</span>,</span>
<span id="cb63-4"><a href="#cb63-4"></a>           <span class="at">q=</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 13</code></pre>
</div>
</div>
</section>
<section id="odległość-cosinusowa" class="slide level2">
<h2>Odległość cosinusowa</h2>
<ul>
<li>miara odległosci (tak naprawdę kąt) między dwoma wektorami utworzonymi przez <span class="math inline">\(q\)</span>-gramy</li>
<li>wzór:</li>
</ul>
<p><span class="math display">\[
1-\frac{v_1 v_2}{||v_1||_2||v_2||_2},
\]</span></p>
<p>gdzie <span class="math inline">\(||.||_2\)</span> oznacza normę Euklidesową <span class="math inline">\(\sqrt{\sum_i v_{1,i}^2}\)</span>.</p>
</section>
<section id="odległość-cosinusowa-przykład" class="slide level2">
<h2>Odległość cosinusowa (przykład)</h2>
<ul>
<li>rozważmy tylko imię: maciej i maicej i 2-gramy</li>
<li>pierwsze: <code>{ma, ac, ci,ie,ej}</code></li>
<li>drugie: <code>{ma, ai, ic, ce, ej}</code></li>
<li>w zapisie wektorowym:</li>
</ul>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>  ma ac ci ie ej ic ai ce
a  1  1  1  1  1  0  0  0
b  1  0  0  0  1  1  1  1</code></pre>
</div>
</div>
<ul>
<li>odległość:</li>
</ul>
<p><span class="math display">\[
1- \frac{v_1 v_2}{||v_1||_2||v_2||_2} = \frac{2}{5} = 0.6.
\]</span></p>
</section>
<section id="odległość-cosinusowa-przykład-w-r" class="slide level2">
<h2>Odległość cosinusowa (przykład w R)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1"></a><span class="fu">stringdist</span>(<span class="st">"maciej"</span>,</span>
<span id="cb66-2"><a href="#cb66-2"></a>           <span class="st">"maicej"</span>,</span>
<span id="cb66-3"><a href="#cb66-3"></a>           <span class="at">method =</span> <span class="st">"cosine"</span>,</span>
<span id="cb66-4"><a href="#cb66-4"></a>           <span class="at">q=</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.6</code></pre>
</div>
</div>
</section>
<section id="odległość-cosinowa-ćwiczenia" class="slide level2">
<h2>Odległość cosinowa (ćwiczenia)</h2>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_6a3d9571" data-update-every="1" tabindex="0" style="right:0;bottom:0;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">10</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
<ul>
<li>Ćwiczenie: ile wynosi odległość <span class="math inline">\(q\)</span>-gram dla następujących napisów:
<ul>
<li>warmińsko-mazurskie / warminsok-mazurskie</li>
<li>miasto poznań / m.ppznań</li>
</ul>
Wykorzystując <span class="math inline">\(q\)</span> równe 2 i 3.</li>
</ul>
</section>
<section id="odległość-cosinowa-rozwiązania-ćwiczeń" class="slide level2">
<h2>Odległość cosinowa (rozwiązania ćwiczeń)</h2>
<ul>
<li>ćwiczenie 1</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1"></a><span class="fu">qgrams</span>(<span class="at">a =</span> <span class="st">"warmińsko-mazurskie"</span>,</span>
<span id="cb68-2"><a href="#cb68-2"></a>       <span class="at">b =</span> <span class="st">"warminsok-mazurskie"</span>,</span>
<span id="cb68-3"><a href="#cb68-3"></a>       <span class="at">q =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  wa ńs zu ar rm sk ur so rs mi o- ok ns iń ko ma ki k- az ie in -m
a  1  1  1  1  1  2  1  0  1  1  1  0  0  1  1  1  1  0  1  1  0  1
b  1  0  1  1  1  1  1  1  1  1  0  1  1  0  0  1  1  1  1  1  1  1</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1"></a><span class="fu">stringdist</span>(<span class="at">a =</span> <span class="st">"warmińsko-mazurskie"</span>,</span>
<span id="cb70-2"><a href="#cb70-2"></a>           <span class="at">b =</span> <span class="st">"warminsok-mazurskie"</span>,</span>
<span id="cb70-3"><a href="#cb70-3"></a>           <span class="at">method =</span> <span class="st">"cosine"</span>,</span>
<span id="cb70-4"><a href="#cb70-4"></a>           <span class="at">q=</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.2621352</code></pre>
</div>
</div>
</section>
<section id="odległość-cosinowa-rozwiązania-ćwiczeń-1" class="slide level2">
<h2>Odległość cosinowa (rozwiązania ćwiczeń)</h2>
<ul>
<li>ćwiczenie 2</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1"></a><span class="fu">qgrams</span>(<span class="at">a =</span> <span class="st">"miasto poznań"</span>,</span>
<span id="cb72-2"><a href="#cb72-2"></a>       <span class="at">b =</span> <span class="st">"m.ppznań"</span>,</span>
<span id="cb72-3"><a href="#cb72-3"></a>       <span class="at">q =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  mi st to zn o  po pp pz oz na ia m. as ań  p .p
a  1  1  1  1  1  1  0  0  1  1  1  0  1  1  1  0
b  0  0  0  1  0  0  1  1  0  1  0  1  0  1  0  1</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1"></a><span class="fu">stringdist</span>(<span class="at">a =</span> <span class="st">"miasto poznań"</span>,</span>
<span id="cb74-2"><a href="#cb74-2"></a>           <span class="at">b =</span> <span class="st">"m.ppznań"</span>,</span>
<span id="cb74-3"><a href="#cb74-3"></a>           <span class="at">method =</span> <span class="st">"cosine"</span>,</span>
<span id="cb74-4"><a href="#cb74-4"></a>           <span class="at">q=</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.6726732</code></pre>
</div>
</div>
</section>
<section id="odległość-jaro" class="slide level2">
<h2>Odległość Jaro</h2>
<ul>
<li>Podobieństwo Jaro między ciągami znaków a i b wyraża się następującym wzorem:</li>
<li>Wzór</li>
</ul>
<p><span class="math display">\[
\left\{\begin{array}{ll}0 &amp; \text { dla } m=0 \\ 1- \frac{1}{3}\left(\frac{m}{|a|}+\frac{m}{|b|}+\frac{m-t}{m}\right) &amp; \text { dla } m \neq 0\end{array}\right.
\]</span> gdzie</p>
<ul>
<li>(m) to liczba pasujących znaków. Dwa znaki, odpowiednio z a i (b), sa uważane za pasujące tylko wtedy, gdy są takie same i są nie dalej niż () znaków od siebie,</li>
<li>(t) to liczba dopasowań po transpozycji drugiego ciągu znaków, podzielona przez 2.</li>
</ul>
</section>
<section id="odległość-jaro-przykład-w-r" class="slide level2">
<h2>Odległość Jaro (przykład w R)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1"></a><span class="fu">stringdist</span>(<span class="st">"maciej"</span>,</span>
<span id="cb76-2"><a href="#cb76-2"></a>           <span class="st">"maicej"</span>,</span>
<span id="cb76-3"><a href="#cb76-3"></a>           <span class="at">method =</span> <span class="st">"jw"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.05555556</code></pre>
</div>
</div>
</section>
<section id="odległość-jaro-winklera" class="slide level2">
<h2>Odległość Jaro-Winklera</h2>
<ul>
<li>Algorytm Winklera jest ulepszeniem algorytmu Jaro, powstałym poprzez zastosowanie pomysłów opartych na obserwacjach empirycznych, które wykazały, że mniej błędów występuje zwykle na początku błędnie zapisanych nazwisk osób</li>
<li>Algorytm Winklera zwiększa zatem miarę podobieństwa Jaro dla identycznych znaków początkowych:</li>
</ul>
<p><span class="math display">\[
d_{\mathrm{jw}}(a, b)=d_{\mathrm{jaro}}(a, b)[1-p \ell(a, b)],
\]</span></p>
<p>gdzie <span class="math inline">\(\ell(.)\)</span> jest długością wspólnego prefiksu na początku obu ciągów, maksymalnie wynoszącą 4, a p jest współczynnikiem skalowania (nie więcej niż 0.25)</p>
</section>
<section id="odległość-jaro-winklera-przykład-w-r" class="slide level2">
<h2>Odległość Jaro-Winklera (przykład w R)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1"></a><span class="fu">stringdist</span>(<span class="st">"maciej"</span>,</span>
<span id="cb78-2"><a href="#cb78-2"></a>           <span class="st">"maicej"</span>,</span>
<span id="cb78-3"><a href="#cb78-3"></a>           <span class="at">method =</span> <span class="st">"jw"</span>,</span>
<span id="cb78-4"><a href="#cb78-4"></a>           <span class="at">p =</span> <span class="fl">0.1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.04444444</code></pre>
</div>
</div>
</section>
<section id="podsumowanie" class="slide level2">
<h2>Podsumowanie</h2>
<ul>
<li>Ostatecznie wybór zależy od zastosowania, ale istnieją pewne ogólne rozważania.</li>
<li>Wybór między metryką opartą na edycji lub metryką heurystyczną z jednej strony a odległością opartą na q-gramie z drugiej, jest w pewnym stopniu zależy od długości ciągu znaków.</li>
<li>W przeciwieństwie do metryk opartych na edycji lub heurystycznych, metryki oparte na q-gramach można łatwo obliczyć między bardzo długimi ciągami tekstowymi, ponieważ liczba q-gramów napotykanych w języku w języku naturalnym (np. q ≥ 3) jest zwykle znacznie mniejsza niż q-gramy dozwolone przez alfabet.</li>
</ul>
</section>
<section id="podsumowanie-1" class="slide level2">
<h2>Podsumowanie</h2>
<ul>
<li>Wybór odległości opartej na edycji zależy głównie od wymaganej dokładności. Na przykład, w słowniku gdzie różnice między dopasowanymi i słownikowymi elementami są niewielkie, odległość edycji, która pozwala na więcej typów operacji edycji (takich jak optymalne wyrównanie ciągów lub odległość Damerau-Levenshtein) może dać lepsze wyniki.</li>
<li>Heurystyczne odległości Jaro i Jaro-Winklera zostały zaprojektowane dla zostały zaprojektowane z myślą o stosunkowo krótkich ciągach znaków wpisywanych przez człowieka, więc ich obszar zastosowania jest jasny.</li>
</ul>
</section>
<section id="ćwiczenie" class="slide level2">
<h2>Ćwiczenie</h2>
<ol type="1">
<li>Wczytać dwa zbiory: <code>zbior1.csv</code> i <code>zbior2.csv</code> z github (folder <code>dane/</code>).</li>
<li>Wyznaczyć odległości między rekordami wykorzystując 3 różne miary odległości.</li>
<li>Wybrać wiersze, które powinny dotyczyć tych samych osób.</li>
</ol>
</section>
<section id="ćwiczenie-rozwiązanie" class="slide level2">
<h2>Ćwiczenie – Rozwiązanie</h2>
</section></section>
<section>
<section id="blokowanie-rekordów" class="title-slide slide level1 center" data-number="4">
<h1><span class="header-section-number">4</span> Blokowanie rekordów</h1>

</section>
<section id="idea-blokowania-rekordów" class="slide level2">
<h2>Idea blokowania rekordów</h2>
<ul>
<li>mając 3 rekordy (a, b, c) w bazie danych liczba możliwych porównań to 3 (ab, ac, bc)</li>
<li>mając 10 rekordów mamy: 45</li>
<li>mając 50000 rekordów mamy: 1.249975^{9}</li>
<li>liczba kombinacji: n*(n-1)/2</li>
<li>nie da się tego zrobić dla dużych zbiorów danych</li>
</ul>
</section>
<section id="z-czego-się-korzysta" class="slide level2">
<h2>Z czego się korzysta?</h2>
<ul>
<li>blokowanie wg zmiennych, które są dobrej jakości (np. rok urodzenia, płeć),</li>
<li>blokowanie po pierwszych literach imion i nazwisk,</li>
<li>może się jednak zdarzyć tak, że daty urodzeń czy imiona są błędnie zapisane,</li>
<li>wtedy warto skorzystać z wyszukiwania z wykorzystaniem (przybliżonych) najbliższych sąsiadów i grafów.</li>
</ul>
</section>
<section id="przykład" class="slide level2">
<h2>Przykład</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1"></a>dane <span class="ot">&lt;-</span> <span class="fu">qgrams</span>(<span class="at">.list =</span> <span class="fu">list</span>(<span class="st">"maciejj"</span>, <span class="st">"majej"</span>, <span class="st">"ana"</span>, <span class="st">"annna"</span>), <span class="at">q=</span><span class="dv">2</span>)</span>
<span id="cb80-2"><a href="#cb80-2"></a>dane_rej <span class="ot">&lt;-</span> <span class="fu">qgrams</span>(<span class="at">.list =</span> <span class="fu">list</span>(<span class="st">"maciej"</span>, <span class="st">"anna"</span>), <span class="at">q=</span><span class="dv">2</span>)</span>
<span id="cb80-3"><a href="#cb80-3"></a>vars <span class="ot">&lt;-</span> <span class="fu">intersect</span>(<span class="fu">colnames</span>(dane), <span class="fu">colnames</span>(dane_rej))</span>
<span id="cb80-4"><a href="#cb80-4"></a>wysz <span class="ot">&lt;-</span> <span class="fu">nn2</span>(<span class="at">data =</span> dane[,vars], dane_rej[, vars], , <span class="at">k=</span> <span class="dv">1</span>)</span>
<span id="cb80-5"><a href="#cb80-5"></a>do_grafu <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">query =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">neg =</span> <span class="fu">rep</span>(wysz<span class="sc">$</span>nn.idx[,<span class="dv">1</span>], <span class="at">each=</span><span class="dv">2</span>))</span>
<span id="cb80-6"><a href="#cb80-6"></a>g1 <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(do_grafu)</span>
<span id="cb80-7"><a href="#cb80-7"></a><span class="fu">plot</span>(g1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="prezentacja_files/figure-revealjs/przyklad-1.png" width="960" class="r-stretch"></section></section>
<section id="pakiet-reclin2" class="title-slide slide level1 center" data-number="5">
<h1><span class="header-section-number">5</span> Pakiet <code>reclin2</code></h1>
<p>Przejdzmy do pakietu <code>reclin2</code></p>
<div class="footer footer-default">

</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="prezentacja_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="prezentacja_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="prezentacja_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="prezentacja_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="prezentacja_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="prezentacja_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="prezentacja_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="prezentacja_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="prezentacja_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="prezentacja_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1600,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>